// log_requests.js - ZAP httpsender script (Graal.js)

function sendingRequest(msg, initiator, helper) {
    var method = msg.getRequestHeader().getMethod();
    var url = msg.getRequestHeader().getURI().toString();
    print('[log_requests.js] Sending request: ' + method + ' ' + url);
}

function responseReceived(msg, initiator, helper) {
    var status = msg.getResponseHeader().getStatusCode();
    var url = msg.getRequestHeader().getURI().toString();
    print('[log_requests.js] Received response: ' + status + ' for ' + url);
}